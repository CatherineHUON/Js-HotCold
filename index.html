<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="stylesheetjeu.css">
    <title></title>
  </head>
  <body>
    <div class="jeu">
      <h2>PLUS OU MOINS!</h2>
    <div class="règles">
      <h3>Règles du jeu</h3>
      <p>Vous devez trouver un nombre entre 0 et 100 en 10 coups.
      <br/><br/>A vous de jouer et bonne chance!<br/><br/>
      </p>
      <p>
        <label>Saisissez votre nombre:</label>
        <input class="choix" type="text" id="choix" />
      </p>
      <p class="Comparer">
        <button id="bouton" onclick="choix()">Comparer</button>
      </p>


    </div>
    <div class="résultat">
      <h3>Résultat</h3>
      <div id="indication"></div>
      <div id="indice"></div>
    </div>
    <script>
    function choix(){
      var choixutilisateur= document.getElementById("choix").value;
      console.log(choixutilisateur);
      compare(choixutilisateur,nb);
      essai++;
      console.log(essai+"tour");
      // if(essai>10){
        // alert("C'est perdu");
      // } else if(essai=5)
      if (essai == 5)
         {
         if (nb.toString().slice(-1)==0){
           var hint_max = nb;
         }
         else
         {
           var hint_max = (10 - nb.toString().slice(-1)) + nb;
         }
         var hint_min = hint_max - 9;
          document.getElementById("indice").innerHTML = "Indice : c'est entre "+hint_min+" et "+hint_max;
         console.log(hint_min+"=>"+hint_max);
         }
         else if (essai >= 10)
         {
         alert("Vous avez perdu !!!");
        }
      }
    function compare(choix, nb){
        if(choix>nb){
          document.getElementById("indication").innerHTML="C'est moins";
        } else if (isNaN(choix, nb) == true) {
          document.getElementById("indication").innerHTML="Ceci n'est pas un nombre!";
        } else if(choix<nb){
          document.getElementById("indication").innerHTML="C'est plus";
        // alert("C'est plus");
        } else {
          document.getElementById("indication").innerHTML="C'est gagné!<br/><img src=IMG/fireworks3.gif>";
        // alert("C'est gagné!");
          gagner == true;
        }
      }


    var min= 1;
    var max= 100;
    var nb= Math.floor(Math.random()*(max - min +1)) + min;
    var gagner = false;
    var essai=0;

    console.log(nb);

    document.getElementById('choix').onkeypress = function(e){
      if(e.keyCode == 13 ){
        choix();
      }
    };

    // while(gagner != true){
    //
    // // var choix= document.getElementById("bouton");
    //
    // if(choix>nb){
    //   alert("C'est moins");
    // } else if(choix<nb){
    //   alert("C'est plus");
    // } else {
    //   alert("C'est gagné!");
    //   gagner == true;
    // }
  // }
    </script>
    </div>

  </body>
</html>
